DROP DATABASE IF EXISTS DBPROJETOINTEGRADOR;
CREATE DATABASE DBPROJETOINTEGRADOR;
USE DBPROJETOINTEGRADOR;

CREATE TABLE USUARIO (
	IDUSUARIO INT NOT NULL AUTO_INCREMENT
    , NOME VARCHAR(50) NOT NULL
    , EMAIL VARCHAR(100) NOT NULL
    , SENHA VARCHAR(100) NOT NULL
    , PRIMARY KEY (IDUSUARIO)
);

CREATE TABLE CATEGORIA(
  IDCATEGORIA INT NOT NULL AUTO_INCREMENT
  , NOME VARCHAR(100) NOT NULL
  , PRIMARY KEY (IDCATEGORIA)
);

CREATE TABLE PRODUTO(
  IDPRODUTO INT NOT NULL AUTO_INCREMENT
  , IDCATEGORIA INT NOT NULL
  , NOME VARCHAR(100) NOT NULL
  , DESCRICAO VARCHAR(300) NULL
  , CONTROLE_VALIDADE CHAR(1) NOT NULL
  , ESTOQUE_MINIMO INT NULL
  , PRIMARY KEY (IDPRODUTO)
  , FOREIGN KEY (IDCATEGORIA) REFERENCES CATEGORIA (IDCATEGORIA)
);

CREATE TABLE FORNECEDOR(
  IDFORNECEDOR INT NOT NULL AUTO_INCREMENT
  , NOME VARCHAR(100) NOT NULL
  , TELEFONE VARCHAR(15) NULL
  , EMAIL VARCHAR(100) NULL
  , PRIMARY KEY (IDFORNECEDOR)
);

CREATE TABLE LOTE (
  IDLOTE INT NOT NULL AUTO_INCREMENT
  , IDPRODUTO INT NOT NULL
  , IDFORNECEDOR INT NOT NULL
  , DATA_CADASTRO DATE NOT NULL
  , DATA_VALIDADE DATE NOT NULL
  , NUMERO VARCHAR(45) NOT NULL
  , QUANTIDADE INT NULL
  , PRIMARY KEY (IDLOTE)
  , FOREIGN KEY (IDPRODUTO) REFERENCES PRODUTO (IDPRODUTO)
  , FOREIGN KEY (IDFORNECEDOR) REFERENCES FORNECEDOR (IDFORNECEDOR)
);

CREATE TABLE MOVIMENTACAO (
  IDMOVIMENTACAO INT NOT NULL AUTO_INCREMENT
  , IDLOTE INT NOT NULL
  , IDUSUARIO INT NOT NULL
  , DATA_MOVIMENTOCAO DATE NOT NULL
  , TIPO VARCHAR(10) NOT NULL
  , QUANTIDADE INT NOT NULL
  , VALOR_UNITARIO DECIMAL(8,2) NOT NULL
  , MOTIVO VARCHAR(50) NOT NULL
  , PRIMARY KEY (IDMOVIMENTACAO)
  , FOREIGN KEY (IDLOTE) REFERENCES LOTE(IDLOTE)
  , FOREIGN KEY (IDUSUARIO) REFERENCES USUARIO(IDUSUARIO)
);

select * from USUARIO;
select * from PRODUTO;
select * from LOTE;
select * from CATEGORIA;
select * from FORNECEDOR;
select * from MOVIMENTACAO;



INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Suprimentos Alfa', '(11)12345-6789', 'contato@alfa.com');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Distribuidora Beta', '(21)98765-4321', 'vendas@beta.com.br');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Comércio Gama', '(31)5555-4444', 'comercial@gama.net');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Indústria Delta', '(41)3333-2222', 'sac@delta.ind');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Atacadista Epsilon', '(51)9999-0000', 'atendimento@epsilon.com');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Logística Zeta', '(61)8888-1111', 'logistica@zeta.com');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Produtos Eta', '(71)7777-2222', 'faleconosco@eta.br');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Fornecedora Theta', '(81)6666-3333', 'marketing@theta.net');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Materiais Iota', '(91)4444-5555', 'pedidos@iota.com');
INSERT INTO FORNECEDOR (NOME, TELEFONE, EMAIL) VALUES ('Componentes Kappa', '(19)2222-6666', 'suporte@kappa.ind');

INSERT INTO CATEGORIA (NOME) VALUES ('Eletrônicos');
INSERT INTO CATEGORIA (NOME) VALUES ('Alimentos Não Perecíveis');
INSERT INTO CATEGORIA (NOME) VALUES ('Higiene Pessoal');
INSERT INTO CATEGORIA (NOME) VALUES ('Limpeza Doméstica');
INSERT INTO CATEGORIA (NOME) VALUES ('Cozinha');
INSERT INTO CATEGORIA (NOME) VALUES ('Escritório');
INSERT INTO CATEGORIA (NOME) VALUES ('Vestuário');
INSERT INTO CATEGORIA (NOME) VALUES ('Ferramentas');
INSERT INTO CATEGORIA (NOME) VALUES ('Decoração');
INSERT INTO CATEGORIA (NOME) VALUES ('Jardinagem');
INSERT INTO CATEGORIA (NOME) VALUES ('Bebidas');
INSERT INTO CATEGORIA (NOME) VALUES ('Esportes');
INSERT INTO CATEGORIA (NOME) VALUES ('Medicamentos OTC');
INSERT INTO CATEGORIA (NOME) VALUES ('Pet Shop - Cães');
INSERT INTO CATEGORIA (NOME) VALUES ('Pet Shop - Gatos');
INSERT INTO CATEGORIA (NOME) VALUES ('Papelaria');
INSERT INTO CATEGORIA (NOME) VALUES ('Automotivo');
INSERT INTO CATEGORIA (NOME) VALUES ('Hardware');
INSERT INTO CATEGORIA (NOME) VALUES ('Eletrodomésticos');
INSERT INTO CATEGORIA (NOME) VALUES ('Acessórios');

INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (1, 'Smartphone X1', 'Smartphone de última geração', 'N', 5);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (2, 'Arroz Integral 5kg', 'Pacote de Arroz Integral Tipo 1', 'S', 100);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (2, 'Feijão Carioca 1kg', 'Pacote de Feijão Carioca', 'S', 80);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (3, 'Creme Dental Flúor', 'Creme dental de 90g com flúor', 'S', 200);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (3, 'Shampoo Anti-caspa', 'Shampoo para tratamento anti-caspa 400ml', 'S', 150);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (4, 'Água Sanitária 1L', 'Água Sanitária Desinfetante', 'S', 120);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (5, 'Jogo de Panelas 5pçs', 'Jogo de panelas antiaderente', 'N', 20);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (6, 'Mouse Sem Fio', 'Mouse óptico sem fio USB', 'N', 30);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (7, 'Camiseta Básica P', 'Camiseta de algodão tamanho P, cor preta', 'N', 70);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (8, 'Furadeira de Impacto', 'Furadeira elétrica de 600W', 'N', 15);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (9, 'Vaso de Cerâmica', 'Vaso decorativo para flores', 'N', 40);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (10, 'Adubo NPK 1kg', 'Fertilizante NPK para plantas', 'S', 60);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (11, 'Café Torrado e Moído 500g', 'Pacote de café tradicional', 'S', 180);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (12, 'Bola de Futebol', 'Bola de futebol oficial de campo', 'N', 25);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (13, 'Analgésico Comprimido', 'Embalagem com 10 comprimidos de analgésico', 'S', 100);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (14, 'Ração Seca Cães Adultos 10kg', 'Ração Premium para cães adultos', 'S', 50);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (15, 'Areia Higiênica 4kg', 'Areia absorvente para gatos', 'N', 90);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (16, 'Bloco de Notas Adesivas', 'Bloco com 5 cores sortidas', 'N', 130);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (17, 'Cera Automotiva 200ml', 'Cera protetora para pintura', 'S', 45);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (18, 'SSD 500GB', 'Disco de estado sólido 500GB', 'N', 10);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (19, 'Batedeira Planetária', 'Batedeira com 3 tipos de batedores', 'N', 12);
INSERT INTO PRODUTO (IDCATEGORIA, NOME, DESCRICAO, CONTROLE_VALIDADE, ESTOQUE_MINIMO) VALUES (20, 'Cabo USB-C 2 Metros', 'Cabo para carregamento rápido', 'N', 150);

INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (1, 1, '2025-10-01', '2030-01-01', 'LT20251001A', 50);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (2, 2, '2025-09-15', '2026-09-15', 'ARZ250915B', 300);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (3, 2, '2025-10-05', '2026-10-05', 'FEI251005C', 250);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (4, 5, '2025-08-20', '2027-08-20', 'CDL250820D', 500);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (5, 5, '2025-09-01', '2027-09-01', 'SHP250901E', 400);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (6, 3, '2025-10-10', '2026-10-10', 'ASQ251010F', 600);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (7, 10, '2025-07-01', '2035-07-01', 'JGP250701G', 80);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (8, 1, '2025-11-01', '2030-11-01', 'MWS251101H', 150);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (9, 13, '2025-09-25', '2030-09-25', 'CAM250925I', 200);
INSERT INTO LOTE (IDPRODUTO, IDFORNECEDOR, DATA_CADASTRO, DATA_VALIDADE, NUMERO, QUANTIDADE) VALUES (10, 4, '2025-08-01', '2035-08-01', 'FDI250801J', 60);

INSERT INTO MOVIMENTACAO (IDLOTE, IDUSUARIO, DATA_MOVIMENTOCAO, TIPO, QUANTIDADE, VALOR_UNITARIO, MOTIVO) VALUES (4, 1, '2025-10-01', 'ENTRADA', 50, 1500.00, 'Compra Fornecedor');
INSERT INTO MOVIMENTACAO (IDLOTE, IDUSUARIO, DATA_MOVIMENTOCAO, TIPO, QUANTIDADE, VALOR_UNITARIO, MOTIVO) VALUES (4, 1, '2025-09-15', 'ENTRADA', 300, 4.50, 'Compra Fornecedor');
INSERT INTO MOVIMENTACAO (IDLOTE, IDUSUARIO, DATA_MOVIMENTOCAO, TIPO, QUANTIDADE, VALOR_UNITARIO, MOTIVO) VALUES (4, 1, '2025-10-05', 'ENTRADA', 250, 3.20, 'Compra Fornecedor');
INSERT INTO MOVIMENTACAO (IDLOTE, IDUSUARIO, DATA_MOVIMENTOCAO, TIPO, QUANTIDADE, VALOR_UNITARIO, MOTIVO) VALUES (4, 1, '2025-08-20', 'ENTRADA', 500, 1.80, 'Compra Fornecedor');
INSERT INTO MOVIMENTACAO (IDLOTE, IDUSUARIO, DATA_MOVIMENTOCAO, TIPO, QUANTIDADE, VALOR_UNITARIO, MOTIVO) VALUES (4, 1, '2025-11-20', 'SAÍDA', 5, 2500.00, 'Venda Cliente Final');
INSERT INTO MOVIMENTACAO (IDLOTE, IDUSUARIO, DATA_MOVIMENTOCAO, TIPO, QUANTIDADE, VALOR_UNITARIO, MOTIVO) VALUES (4, 1, '2025-09-01', 'ENTRADA', 400, 5.00, 'Compra Fornecedor');
